import{d as J,a as V,s as N,c as v,b as r,e as u,w as T,V as E,t as f,u as e,f as F,n as M,g as q,o as d,h as H,i as S,m as Z,R as B,j as z,k as U,F as j,r as X,l as D,p as te,q as O,v as re,x as Q,y as ve,z as de,A as le,T as ce,B as me,C as _e,D as be,E as ye,G as we,H as ke,I as oe,J as Se,K as Me,L as Te,M as fe,N as $e,O as Ce,P as xe,Q as Le,S as ge,U as Re,W as Ae,X as Ne,Y as qe,Z as Ve,_ as Fe,$ as Ie,a0 as Ee,a1 as He,a2 as De}from"./.pnpm-DaekJr0e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();const Be=["1","2","3","4","5","6","7","8","9",".","0","delete"],ue={delete:"mdi-backspace"},Pe={main:"",scanner:"scanner"},he={"/":{min:-3,default:0,max:4},"/joinRadio":{min:-3,default:1,max:13},"/messages":{min:-3,default:0,max:()=>Y().contacts.length},"/channels":{min:-3,default:0,max:()=>{const s=W();return 5+(s.currentTab=="favorites"?s.favorites:s.recent).length},getScroll:s=>0+(s>6?(s-6)*48:0),scrollSelection:"#channel-list"},"/radioMembers":{min:-3,default:0,max:0},"/messages/:id":{min:-3,default:0,max:2},"/settings":{min:-3,default:0,max:()=>b().showCallSigns==!0?8:7,getScroll:s=>s<=1?0:s*40,scrollSelection:"#settings-scroll"}},Oe={[-4]:()=>{b().panicButton()},[-3]:()=>{b().togglePoweredOn()},[-2]:()=>{const s=b(),t=C();t.settings.volume!==100&&(s.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)+5))},[-1]:()=>{const s=b(),t=C();t.settings.volume!==0&&(s.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)-5))}},se={"/":{0:()=>{b().changeTab("radioMembers")},1:()=>{b().changeTab("channels")},2:()=>{b().changeTab("joinRadio")},3:()=>{b().changeTab("settings")},4:()=>{b().changeTab("messages")}},"/radioMembers":{0:()=>{b().changeTab("")},invalid:()=>{const s=b(),t=Y();if(s.currentAction<=-4&&s.currentAction>=s.radioMembers.length*-1-4){const n=s.radioMembers[s.currentAction*-1-5];n&&t.addContact(n)}}},"/messages":{0:()=>{b().changeTab("")},invalid:()=>{const s=b(),t=Y();if(s.currentAction>0&&s.currentAction<=t.contacts.length){const n=t.contacts[s.currentAction-1];n&&t.clickContact(n)}else if(s.currentAction<=-4&&s.currentAction>=t.contacts.length*-1-4){const n=t.contacts[s.currentAction*-1-5];n&&t.removeContact(n)}}},"/messages/:id":{0:()=>{b().changeTab("messages")},1:()=>{$("toggleNuiFocus",{new:!0})},2:()=>{Y().sendMessage()}},"/settings":{0:()=>{b().changeTab("")},1:()=>{const s=C();s.settings.anonymous=!s.settings.anonymous,s.saveSettings("anonymous",s.settings.anonymous)},2:()=>{const s=C();s.settings.streamerMode=!s.settings.streamerMode,s.saveSettings("streamerMode",s.settings.streamerMode)},3:()=>{const s=C();s.settings.darkTheme=!s.settings.darkTheme,s.saveSettings("theme",s.settings.darkTheme)},4:()=>{const s=C();s.settings.memberList=!s.settings.memberList,s.saveSettings("memberList",s.settings.memberList)},6:()=>{const s=C();s.settings.allowDrag=!s.settings.allowDrag,s.saveSettings("allowDrag",s.settings.allowDrag)},7:()=>{const s=C();s.settings.useMouse=!s.settings.useMouse,s.saveSettings("useMouse",s.settings.useMouse)},8:()=>{b().showCallSigns==!0&&$("toggleNuiFocus",{new:!0})}},"/channels":{0:()=>{b().changeTab("")},1:()=>{W().openNewFavoritePrompt()},2:()=>{const s=W();s.showSearch=!s.showSearch,$("toggleNuiFocus",{new:!0})},3:()=>{W().currentTab="favorites"},4:()=>{W().currentTab="recents"},invalid:()=>{const s=b(),t=W();if(s.currentAction>=5){const n=W(),o=n.currentTab=="favorites"?n.favorites:n.recent;s.joinFrequency(o[s.currentAction-5].frequency,!1,!0)}else s.currentAction<=-5&&t.removeChannel(t.favorites[(s.currentAction+5)*-1].id,!0)}},"/joinRadio":{0:()=>{b().changeTab("")},1:()=>{ne().joinFrequency()},invalid:()=>{const s=b(),t=ne();if(s.currentAction>=2){let n=null;if(s.currentAction<11?n=(s.currentAction-1).toString():s.currentAction==11?n=".":s.currentAction==12?n="0":s.currentAction==13&&t.frequency.length>0&&(t.frequency=t.frequency.slice(0,-1)),n!==null){const o=t.frequency+n;isNaN(Number(o))==!1&&t.frequency.length<10&&(t.frequency=o)}}}}};for(const s in se)se[s]={...se[s],...Oe};const K=(s,t)=>s.replace(/{(\d+)}/g,function(n,o){return t[o]!==void 0?(t[o]??"").toString():n}),je=()=>{try{return GetParentResourceName()}catch{return"zerio-radio"}},$=async(s,t={})=>await(await fetch(`https://${je()}/${s}`,{body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),b=J("main",{state:()=>({show:!1,poweredOn:!0,showCallSigns:!0,disableAnonymous:!1,debug:!1,currentAction:0,allowActionUpdate:!0,currentFrequency:0,translations:{},hideTop:!1,enablePanicButton:!0,street:"",status:"Unknown",voiceScript:"",identifier:"",customRadioName:"",version:"2.0.10",radioMembers:[],latestMessage:void 0}),actions:{currentTime:()=>{const s=new Date,t=s.getHours(),n=s.getMinutes();return`${t>=10?t:"0"+t}:${n>=10?n:"0"+n}`},close:(s=!1)=>{const t=b();s==!0?$("removeFocus",{}):(t.show=!1,$("close",{}),document.body.classList.remove("open"))},open:s=>{const t=b();t.show=!0,t.hideTop=!1,b().changeTab(s||""),document.body.classList.add("open")},playSound:s=>{if(b().poweredOn==!0){const t=document.getElementById(s);t&&(t.load(),t.volume=Number(C().settings.volume)/100*.5,t.play())}},togglePoweredOn:()=>{const s=b();s.poweredOn=!s.poweredOn,s.playSound("audio_off"),s.currentFrequency!==0&&(s.joinFrequency(0,!0),s.radioMembers=[])},panicButton:()=>{const s=P(),t=b();$("panicButton").then(n=>{n.status?s.addNotification(t.getTranslation(["notifications","panicButtonCooldown"]),3e3):s.addNotification(t.getTranslation(["notifications","usedPanicButton"]),3e3)})},joinFrequency:async(s,t,n)=>{const o=b();if(s!==void 0&&s!=="0"&&s!==""){o.playSound("click");const i=await $("joinRadio",{frequency:Number(s)});t!==!0&&(i.result==!0?(n!==!0&&o.changeTab(""),P().addNotification(K(o.getTranslation(["notifications","joinedRadioText"]),[i.frequencyLabel!==""&&i.frequencyLabel!==void 0?`the ${i.frequencyLabel}`:`${i.frequency} MHz`]),3e3),o.currentFrequency=i.frequency):P().addNotification(o.getTranslation(["notifications","lockedChannelText"]),3e3))}else o.playSound("click"),$("leaveRadio",{}),o.currentFrequency=0,t!==!0&&(P().addNotification(o.getTranslation(["notifications","leftRadioText"]),3e3),n!==!0&&o.changeTab(""))},changeTab:s=>{const t=b();if(t.hideTop=s=="channels"||s=="settings"||s=="joinRadio"||s=="radioMembers"||s.includes("messages"),L.currentRoute.value.matched[0].path=="/messages/:id"){const o=Y();o.message="",o.currentContact=void 0,o.currentMessages=[]}L.push("/"+s);const n=he["/"+s];t.currentAction=n&&typeof n.default=="number"?n.default:0,s==""&&$("fetchNewestReceivedMessage",{}),C().settings.useMouse==!1&&$("updateJoinRadioChecks",{new:s=="joinRadio"})},getTranslation:s=>{const t=b();let n;for(let o=0;o<s.length;o++)if(typeof n!="string")if(n==null&&t.translations[s[o]])n=t.translations[s[o]];else if(n!==void 0&&n[s[o]])n=n[s[o]];else return"Invalid translation";return n==null?"Invalid Translation":typeof n=="string"?n:"Translation is not a string"}}}),C=J("settings",{state:()=>({settings:{darkTheme:!0,anonymous:!1,streamerMode:!1,allowDrag:!1,memberList:!1,useMouse:!0,scale:20,callsign:"",positionX:"100px",positionY:"128px",position2X:"32px",position2Y:"32px",volume:100}}),actions:{saveSettings:(s,t)=>{const n=C(),o=b();n.settings[s]=t,s=="theme"?(document.body.classList.add(n.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(n.settings.darkTheme?"lightmode":"darkmode")):s=="useMouse"&&o.close(),typeof t=="boolean"&&(t=t==!0?1:0),$("savesettings",{name:s,value:t})}}}),P=J("modal",{state:()=>({data:void 0,notifications:[],id:0}),actions:{addNotification:(s,t=3e3)=>{const n=P(),o=n.id;n.notifications.push({text:s,timer:t,uuid:o,date:Date.now()}),n.id++,setTimeout(()=>{const i=n.notifications.findIndex(c=>c.uuid==o);i!==-1&&n.notifications.splice(i,1)},t)},removeNotification:s=>{const t=P(),n=t.notifications.findIndex(o=>o.uuid==s);n!==void 0&&typeof n=="number"&&n!==-1&&t.notifications.splice(n,1)}}}),ne=J("joinRadio",{state:()=>({frequency:""}),actions:{joinFrequency:()=>{const s=ne(),t=b();s.frequency.charAt(s.frequency.length-1)=="."&&(s.frequency=s.frequency.slice(0,-1)),t.joinFrequency(s.frequency,!1),s.frequency=""}}}),W=J("channels",{state:()=>({favorites:[{label:"Favorit kanal",frequency:68},{label:"En till Favorit kanal",frequency:69}],currentTab:"favorites",recent:[],showSearch:!1}),actions:{openNewFavoritePrompt:()=>{const s=b();P().data={header:s.getTranslation(["channels","newPromptHeader"]),inputs:[{placeholder:s.getTranslation(["channels","frequency"]),type:"number",name:"frequency"}],buttons:[{label:s.getTranslation(["general","cancel"]),action:"close"},{label:s.getTranslation(["general","continue"]),action:t=>{t.frequency.trim().length>0&&W().addFavorite(Number(t.frequency))}}]},C().settings.useMouse==!1&&$("toggleNuiFocus",{new:!0})},removeChannel:(s,t)=>{$("removeChannel",{id:s,isFavorite:t})},addFavorite:s=>{$("addFavorite",{frequency:s})}}}),Y=J("messages",{state:()=>({contacts:[],currentContact:void 0,message:"",currentMessages:[]}),actions:{sendMessage(){const s=Y();s.message.trim().length>=1&&s.currentContact!==void 0&&$("sendMessage",{message:s.message,contact:s.currentContact}).then(()=>{s.message=""})},addContact(s){const t=Y(),n=b(),o=P();t.isPlayerContact(s.identifier)==!1?$("addContact",{data:s}).then(i=>{i.status=="ok"&&o.addNotification(n.getTranslation(["messages","addedContact"]))}):o.addNotification(n.getTranslation(["messages","alreadyContact"]))},isPlayerContact(s){return Y().contacts.findIndex(o=>o.identifier==s)!==-1},removeContact(s){const t=Y();$("removeContact",{data:s}).then(n=>{n.status=="ok"&&(t.contacts=t.contacts.filter(o=>o.contact!==s.contact),P().addNotification(b().getTranslation(["messages","removedContact"])))})},clickContact(s){b().changeTab("messages/"+s.contact)}}}),pe=J("scanner",{state:()=>({channels:[]})}),Ye={class:"item-container"},We={class:"info-div status"},Xe={class:"text"},ze={class:"status-label"},Ue={class:"status-description street-label"},Ke={class:"info-div radio"},Je={class:"top"},Ge={class:"top-icons unselectable"},Qe={class:"text"},Ze={class:"status-label radio-status"},et={class:"status-description radio-label"},tt={class:"info-div settings buttons"},st={class:"info-div contacts"},nt={key:0,class:"text"},ot={class:"status-label"},at={class:"status-description street-label"},it={key:0,class:"info-div location"},rt={class:"text"},lt={class:"status-description street-label"},ct=V({__name:"Main",setup(s){const t=b(),{status:n,currentFrequency:o,customRadioName:i,currentAction:c,latestMessage:g,street:p}=N(t),a=C(),{settings:l}=N(a);return(_,h)=>(d(),v("div",Ye,[r("div",We,[r("div",Xe,[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","statusTitle"])),1)]),_:1}),r("h1",ze,f(e(t).getTranslation(["info","status"])),1),r("h2",Ue,f(e(n)),1)]),u(S,{class:"unselectable status-icon",icon:"mdi-calendar-range"})]),r("div",Ke,[r("div",Je,[r("div",Ge,[u(S,{class:"top-status-icon unselectable",icon:"mdi-network-strength-3"}),u(S,{class:"top-status-icon unselectable",icon:"mdi-bluetooth-audio"}),u(S,{class:"top-status-icon unselectable",icon:"mdi-remote"}),u(S,{class:"top-status-icon unselectable",icon:"mdi-server"})]),r("div",Qe,[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","radioStatus"])),1)]),_:1}),r("h1",Ze,f(e(o)==0||e(o)==null?e(t).getTranslation(["info","notInRadio"]):e(t).getTranslation(["info","inRadio"])),1),r("h2",et,f(e(o)!==0&&e(o)!==void 0?e(i)!==null&&e(i)!==void 0&&e(i).toString().trim().length>0?e(l).streamerMode!==!0?e(i):e(t).getTranslation(["info","hiddenByStreamerMode"]):e(K)(e(t).getTranslation(["info","frequency"]),[e(l).streamerMode!==!0?e(o):e(t).getTranslation(["info","hiddenByStreamerMode"])]):""),1)])]),u(E,{text:e(t).getTranslation(["info","openRadioMembers"]),location:"left"},{activator:T(({props:m})=>[u(S,Z({onClick:h[0]||(h[0]=k=>e(t).changeTab("radioMembers")),class:"unselectable status-icon"},m,{class:{hover:e(c)==0&&!e(l).useMouse},icon:"mdi-account-multiple-outline"}),null,16,["class"])]),_:1},8,["text"])]),r("div",tt,[F((d(),v("div",{class:M(["button",{hover:e(c)==1&&!e(l).useMouse}]),onClick:h[1]||(h[1]=m=>e(t).changeTab("channels"))},[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","openChannels"])),1)]),_:1}),u(S,{class:"unselectable",icon:"mdi-format-list-bulleted"}),r("h1",null,f(e(t).getTranslation(["general","channels"])),1)],2)),[[B]]),F((d(),v("div",{class:M(["button",{hover:e(c)==2&&!e(l).useMouse}]),onClick:h[2]||(h[2]=m=>e(t).changeTab("joinRadio"))},[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","joinRadio"])),1)]),_:1}),u(S,{class:"unselectable",icon:"mdi-phone"}),r("h1",null,f(e(t).getTranslation(["general","connect"])),1)],2)),[[B]]),F((d(),v("div",{class:M(["button",{hover:e(c)==3&&!e(l).useMouse}]),onClick:h[3]||(h[3]=m=>e(t).changeTab("settings"))},[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","openSettings"])),1)]),_:1}),u(S,{class:"unselectable",icon:"mdi-dots-horizontal"}),r("h1",null,f(e(t).getTranslation(["general","settings"])),1)],2)),[[B]])]),r("div",st,[e(g)!==void 0?(d(),v("div",nt,[r("h1",ot,f(e(l).streamerMode!==!0?e(g).author:e(g).author.substring(0,2)+e(g).author.substring(2).replace(/(.*)/g,"*")),1),r("h2",at,f(e(l).streamerMode!==!0?e(g).message:e(t).getTranslation(["info","hiddenByStreamerMode"])),1)])):q("",!0),F((d(),v("div",{class:M(["button",{hover:e(c)==4&&!e(l).useMouse}]),onClick:h[4]||(h[4]=m=>e(t).changeTab("messages"))},[u(S,{class:"unselectable",icon:"mdi-message-bulleted"}),u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["general","viewMessages"])),1)]),_:1})],2)),[[B]])]),e(l).streamerMode!==!0?(d(),v("div",it,[u(S,{class:"unselectable status-icon",icon:"mdi-map-marker"}),r("div",rt,[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["info","locationTitle"])),1)]),_:1}),r("h2",lt,f(e(p)),1)])])):q("",!0)]))}}),I=(s,t)=>{const n=s.__vccOpts||s;for(const[o,i]of t)n[o]=i;return n},ut=I(ct,[["__scopeId","data-v-eb8dbdb7"]]),dt={class:"main"},mt=V({__name:"NotFound",setup(s){const t=b();return(n,o)=>(d(),v("div",dt,[o[2]||(o[2]=r("p",null,"Seems like something went wrong, this route could not be found.",-1)),o[3]||(o[3]=r("p",null," Please open an ticket and send a screenshot of this to get further info. ",-1)),r("p",null,[o[1]||(o[1]=H(" Your route is: ")),r("b",null,f(n.$route.fullPath),1)]),r("p",{class:"goback",onClick:o[0]||(o[0]=i=>e(t).changeTab(""))},"Click here to go back")]))}}),ft=I(mt,[["__scopeId","data-v-2f4eb9ff"]]),gt={class:"main"},ht={class:"top"},pt={class:"info"},vt={class:"frequency"},_t={class:"value"},bt={class:"buttons"},yt=["onClick","id"],wt={class:"inner"},kt=V({__name:"JoinRadio",setup(s){const t=b(),{currentAction:n}=N(t),o=ne(),{frequency:i}=N(o),c=C(),{settings:g}=N(c);function p(_){let h=!1;switch((_.key.toLowerCase()=="comma"||_.key.toLowerCase()=="period")&&(_.key="."),_.key.toLowerCase()){case"backspace":case"delete":o.frequency.length>0?(o.frequency=o.frequency.slice(0,-1),h=!0):$("closeFromNui",{});break;case"enter":o.joinFrequency();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":{const m=o.frequency+_.key.toString();isNaN(Number(m))==!1&&o.frequency.length<10&&(o.frequency=m,h=!0);break}}if(h){const m=document.getElementById(`button-${_.key.toLowerCase()=="backspace"?"delete":_.key}`);if(m){let k=m.getBoundingClientRect();m.dispatchEvent(new MouseEvent("mousedown",{clientX:k.left+k.width/2,clientY:k.top+k.height/2})),setTimeout(()=>{m!==null&&m.dispatchEvent(new Event("mouseup"))},300)}}}function a(_){switch(_.data.action){case"joinRadioKeyDown":p({key:_.data.key});break}}z(()=>{window.addEventListener("message",a),window.addEventListener("keydown",p)}),U(()=>{window.removeEventListener("message",a),window.removeEventListener("keydown",p)});function l(_){switch(_){case"delete":o.frequency.length>0&&(o.frequency=o.frequency.slice(0,-1));break;default:{const h=o.frequency+_;isNaN(Number(h))==!1&&o.frequency.length<10&&(o.frequency=h);break}}}return(_,h)=>(d(),v("div",gt,[r("div",ht,[u(S,{icon:"mdi-close",onClick:h[0]||(h[0]=m=>e(t).changeTab("")),class:M({hover:e(n)==0&&!e(g).useMouse})},null,8,["class"]),r("h1",null,f(e(t).getTranslation(["joinRadio","title"])),1)]),r("div",pt,[r("div",vt,[r("div",_t,f(e(i)?e(i):e(t).getTranslation(["joinRadio","frequency"])),1),u(S,{icon:"mdi-arrow-right-thin",onClick:e(o).joinFrequency,class:M({hover:e(n)==1&&!e(g).useMouse})},null,8,["onClick","class"])]),r("div",bt,[(d(!0),v(j,null,X(e(Be),(m,k)=>F((d(),v("div",{class:M(["button",{hovering:e(n)==2+k&&!e(g).useMouse}]),key:k,onClick:x=>l(m),id:"button-"+m},[r("div",wt,[e(ue)[m]==null?(d(),v(j,{key:0},[H(f(m),1)],64)):(d(),D(S,{key:1,icon:e(ue)[m]},null,8,["icon"]))])],10,yt)),[[B]])),128))])])]))}}),St=I(kt,[["__scopeId","data-v-da768480"]]),Mt={class:"main"},Tt={class:"top"},$t={key:0,class:"empty-text"},Ct={key:1,class:"radio-members-container"},xt=["onClick"],Lt=V({__name:"RadioMembers",setup(s){const t=b(),{showCallSigns:n,radioMembers:o,currentFrequency:i,currentAction:c}=N(t),g=C(),{settings:p}=N(g),a=Y();return z(()=>{$("fetchContacts",{}).then(l=>{a.contacts=l.contacts})}),(l,_)=>(d(),v("div",Mt,[r("div",Tt,[u(S,{icon:"mdi-close",onClick:_[0]||(_[0]=h=>e(t).changeTab("")),class:M({hover:e(t).currentAction==0&&!e(p).useMouse})},null,8,["class"]),r("h1",null,f(e(t).getTranslation(["radioMembers","title"])),1)]),e(o).length==0||e(i)==0?(d(),v("div",$t,f(e(i)==0?e(t).getTranslation(["radioMembers","notInChannel"]):e(t).getTranslation(["radioMembers","emptyMembersList"])),1)):(d(),v("div",Ct,[(d(!0),v(j,null,X(e(o),(h,m)=>(d(),v("div",{class:M(["radio-member",{hover:e(c)==m+1&&!e(p).useMouse}]),key:h==null?void 0:h.source,style:te({color:h&&h.talking==!0?"#fff":"rgb(225,225,225)"})},[r("p",null,f(e(n)==!0&&typeof h.callsign=="string"&&h.callsign.trim().length>0?e(K)(e(t).getTranslation(["radioMembers","nameWithCallsign"]),[h.name,h.callsign]):e(K)(e(t).getTranslation(["radioMembers","nameWithoutCallsign"]),[h.name])),1),r("button",{onClick:k=>e(a).addContact(h),class:M({hover:e(c)==(m+1)*-1-4&&!e(p).useMouse})},[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["radioMembers","addContact"])),1)]),_:1}),u(S,{icon:e(a).isPlayerContact(h.identifier)?"mdi-star":"mdi-star-outline"},null,8,["icon"])],10,xt)],6))),128))]))]))}}),Rt=I(Lt,[["__scopeId","data-v-405a7496"]]),At={class:"main"},Nt={class:"top"},qt={class:"items",id:"settings-scroll"},Vt={class:"item switch"},Ft={class:"info"},It={class:"item switch"},Et={class:"info"},Ht={style:{"font-size":"15px"}},Dt={class:"item switch"},Bt={class:"info"},Pt={class:"item switch"},Ot={class:"info"},jt={key:0,class:"item slider"},Yt={class:"info"},Wt={class:"top"},Xt={class:"item switch"},zt={class:"info"},Ut={class:"item switch"},Kt={class:"info"},Jt={class:"item textinput"},Gt={class:"info"},Qt=V({__name:"Settings",setup(s){const t=O(!1),n=O(null),o=b(),{currentAction:i,disableAnonymous:c,showCallSigns:g}=N(o),p=C(),{settings:a}=N(p);re(()=>p.settings.scale,h=>{p.saveSettings("size",h),t.value=!1});function l(h){switch(h.data.action){case"close":t.value==!0?t.value=!1:o.changeTab("");break;case"pressLeft":typeof p.settings.scale=="number"&&o.currentAction==5&&!p.settings.useMouse&&p.settings.scale>10&&(p.settings.scale-=1);break;case"pressRight":typeof p.settings.scale=="number"&&o.currentAction==5&&!p.settings.useMouse&&p.settings.scale<40&&(p.settings.scale+=1);break;case"toggledNuiFocus":n.value!==null&&n.value.focus();break}}function _(h){p.settings.useMouse==!1&&o.currentAction==8&&h.target&&h.target.focus()}return z(()=>{window.addEventListener("message",l)}),U(()=>{window.removeEventListener("message",l)}),(h,m)=>(d(),v("div",At,[r("div",Nt,[u(S,{icon:"mdi-close",onClick:m[0]||(m[0]=k=>e(a).useMouse?e(o).changeTab(""):null),class:M({hover:e(i)==0&&!e(a).useMouse})},null,8,["class"]),r("h1",null,f(e(o).getTranslation(["general","settings"])),1)]),r("div",qt,[r("h1",null,f(e(o).getTranslation(["settings","connections"])),1),r("div",Vt,[u(S,{icon:"mdi-incognito"}),r("div",Ft,[r("h1",null,f(e(o).getTranslation(["settings","anonymous"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).anonymous?"on":"off"])),1)]),e(c)!==!0?(d(),D(Q,{key:0,modelValue:e(a).anonymous,"onUpdate:modelValue":[m[1]||(m[1]=k=>e(a).anonymous=k),m[2]||(m[2]=k=>e(p).saveSettings("anonymous",e(a).anonymous))],color:"white","hide-details":"",class:M({hover:e(i)==1&&!e(a).useMouse})},null,8,["modelValue","class"])):q("",!0)]),r("div",It,[u(S,{icon:"mdi-headset"}),r("div",Et,[r("h1",Ht,f(e(o).getTranslation(["settings","streamerMode"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).streamerMode?"on":"off"])),1)]),u(Q,{modelValue:e(a).streamerMode,"onUpdate:modelValue":[m[3]||(m[3]=k=>e(a).streamerMode=k),m[4]||(m[4]=k=>e(p).saveSettings("streamerMode",e(a).streamerMode))],color:"white","hide-details":"",class:M({hover:e(i)==2&&!e(a).useMouse})},null,8,["modelValue","class"])]),r("h1",null,f(e(o).getTranslation(["settings","display"])),1),r("div",Dt,[u(S,{icon:"mdi-theme-light-dark"}),r("div",Bt,[r("h1",null,f(e(o).getTranslation(["settings","darkMode"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).darkTheme?"on":"off"])),1)]),u(Q,{modelValue:e(a).darkTheme,"onUpdate:modelValue":[m[5]||(m[5]=k=>e(a).darkTheme=k),m[6]||(m[6]=k=>e(p).saveSettings("theme",e(a).darkTheme))],color:"white","hide-details":"",class:M({hover:e(i)==3&&!e(a).useMouse})},null,8,["modelValue","class"])]),r("div",Pt,[u(S,{icon:"mdi-format-list-bulleted"}),r("div",Ot,[r("h1",null,f(e(o).getTranslation(["settings","memberList"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).memberList?"on":"off"])),1)]),u(Q,{modelValue:e(a).memberList,"onUpdate:modelValue":[m[7]||(m[7]=k=>e(a).memberList=k),m[8]||(m[8]=k=>e(p).saveSettings("memberList",e(a).memberList))],color:"white","hide-details":"",class:M({hover:e(i)==4&&!e(a).useMouse})},null,8,["modelValue","class"])]),typeof e(a).scale=="number"?(d(),v("div",jt,[u(S,{icon:"mdi-resize"}),r("div",Yt,[r("div",Wt,[r("h1",null,f(e(o).getTranslation(["settings","size"])),1),r("p",null,f(Number(e(a).scale)/20)+"x",1)]),u(ve,{"hide-details":"",modelValue:e(a).scale,"onUpdate:modelValue":m[9]||(m[9]=k=>e(a).scale=k),max:40,min:10,step:1,"thumb-size":16,class:M({hover2:e(i)==5&&!e(a).useMouse})},null,8,["modelValue","class"])])])):q("",!0),r("h1",null,f(e(o).getTranslation(["settings","device"])),1),r("div",Xt,[u(S,{icon:"mdi-drag-variant"}),r("div",zt,[r("h1",null,f(e(o).getTranslation(["settings","allowDrag"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).allowDrag?"on":"off"])),1)]),u(Q,{modelValue:e(a).allowDrag,"onUpdate:modelValue":[m[10]||(m[10]=k=>e(a).allowDrag=k),m[11]||(m[11]=k=>e(p).saveSettings("allowDrag",e(a).allowDrag))],color:"white","hide-details":"",class:M({hover:e(i)==6&&!e(a).useMouse})},null,8,["modelValue","class"])]),r("div",Ut,[u(S,{icon:"mdi-mouse"}),r("div",Kt,[r("h1",null,f(e(o).getTranslation(["settings","useMouse"])),1),r("p",null,f(e(o).getTranslation(["settings",e(a).useMouse?"on":"off"])),1)]),u(Q,{modelValue:e(p).settings.useMouse,"onUpdate:modelValue":[m[12]||(m[12]=k=>e(p).settings.useMouse=k),m[13]||(m[13]=k=>e(p).saveSettings("useMouse",e(a).useMouse))],color:"white","hide-details":"",class:M({hover:e(i)==7&&!e(a).useMouse})},null,8,["modelValue","class"])]),e(g)==!0?(d(),v(j,{key:1},[r("h1",null,f(e(o).getTranslation(["settings","account"])),1),r("div",Jt,[u(S,{icon:"mdi-rename"}),r("div",Gt,[r("h1",null,f(e(o).getTranslation(["settings","callsign"])),1),F(r("input",{"onUpdate:modelValue":m[14]||(m[14]=k=>e(a).callsign=k),maxlength:"16",placeholder:"Type Here",onBlur:m[15]||(m[15]=k=>{_(k),e(p).saveSettings("callsign",e(a).callsign)}),ref_key:"inputRef",ref:n,class:M({hover2:e(i)==8&&!e(a).useMouse})},null,34),[[de,e(a).callsign]])])])],64)):q("",!0)])]))}}),Zt=I(Qt,[["__scopeId","data-v-0e32112a"]]),es={class:"main"},ts={class:"top"},ss={class:"header"},ns={class:"icons"},os={class:"tabs"},as=["onClick"],is=["onClick"],rs=V({__name:"Channels",setup(s){const t=b(),{currentAction:n,currentFrequency:o}=N(t),i=W(),{currentTab:c,showSearch:g}=N(i),p=P(),a=C(),{settings:l}=N(a),_=O(""),h=O(null);function m(y){switch(y.data.action){case"addFavorite":switch(y.data.data.status){case"ok":i.favorites.unshift(y.data.data.data);break;case"noAccess":p.addNotification(t.getTranslation(["notifications","lockedChannelText"]),3e3);break}break;case"removeChannel":y.data.data.isFavorite?i.favorites=i.favorites.filter(w=>w.id!==y.data.data.id):i.recent=i.recent.filter(w=>w.id!==y.data.data.id);break;case"toggledNuiFocus":h.value!==null&&h.value.focus();break}}z(()=>{$("getChannels",{}).then(y=>{i.favorites=y.favorites,i.recent=y.recents}),window.addEventListener("message",m)}),U(()=>{window.removeEventListener("message",m)});function k(y){a.settings.useMouse==!1&&i.showSearch==!0&&y.target&&y.target.focus()}function x(){a.settings.useMouse==!0&&i.openNewFavoritePrompt()}const R=le(()=>{const y=i.currentTab=="favorites"?i.favorites:i.recent,w=_.value.toLowerCase();return y.filter(A=>A.label.toLowerCase().includes(w))});return(y,w)=>(d(),v("div",es,[r("div",ts,[r("div",ss,[u(S,{icon:"mdi-close",onClick:w[0]||(w[0]=A=>e(l).useMouse?e(t).changeTab(""):null),class:M({hover:e(n)==0&&!e(l).useMouse})},null,8,["class"]),r("h1",null,f(e(t).getTranslation(["channels","header"])),1),r("div",ns,[u(S,{icon:"mdi-plus",onClick:x,class:M({hover:e(n)==1&&!e(l).useMouse,show:e(c)=="favorites"})},null,8,["class"]),u(S,{icon:"mdi-magnify",onClick:w[1]||(w[1]=A=>e(a).settings.useMouse?g.value=!e(g):null),class:M({hover:e(n)==2&&!e(l).useMouse})},null,8,["class"])])]),u(ce,{name:"fade"},{default:T(()=>[e(g)?(d(),D(me,{key:0,class:"search-box",placeholder:e(t).getTranslation(["channels","search"]),variant:"solo",density:"compact","single-line":"","hide-details":"",modelValue:_.value,"onUpdate:modelValue":w[2]||(w[2]=A=>_.value=A),onBlur:k,ref_key:"inputRef",ref:h},null,8,["placeholder","modelValue"])):q("",!0)]),_:1}),r("div",os,[F((d(),v("div",{class:M(["tab",{selected:e(c)=="favorites",hover:e(n)==3&&!e(l).useMouse}]),onClick:w[3]||(w[3]=A=>e(l).useMouse?c.value="favorites":null)},[u(S,{icon:"mdi-star"}),r("h1",null,f(e(t).getTranslation(["channels","favorites"])),1)],2)),[[B]]),F((d(),v("div",{class:M(["tab",{selected:e(c)=="recents",hover:e(n)==4&&!e(l).useMouse}]),onClick:w[4]||(w[4]=A=>e(l).useMouse?c.value="recents":null)},[u(S,{icon:"mdi-history"}),r("h1",null,f(e(t).getTranslation(["channels","recents"])),1)],2)),[[B]])])]),r("div",{class:M(["list",{isFavorites:e(c)=="favorites"}]),id:"channel-list"},[(d(!0),v(j,null,X(R.value,(A,G)=>(d(),v("div",{class:M(["item",{selected:e(o)==A.frequency,hover:e(n)==5+G&&!e(l).useMouse}]),key:G,onClick:_e(ee=>e(l).useMouse?e(t).joinFrequency(A.frequency,!1,!0):null,["self"])},[r("p",null,f(A.label),1),r("button",{onClick:ee=>e(i).removeChannel(A.id,e(c)=="favorites"),class:M({hover:e(n)==(G+5)*-1&&!e(l).useMouse})},[u(E,{activator:"parent",location:"top"},{default:T(()=>[H(f(e(t).getTranslation(["channels",e(c)=="favorites"?"removeFavorite":"removeRecent"])),1)]),_:1}),u(S,{icon:"mdi-delete"})],10,is)],10,as))),128))],2)]))}}),ls=I(rs,[["__scopeId","data-v-8bf5bbea"]]),cs={class:"main"},us={class:"top"},ds={key:0,class:"list"},ms=["onClick"],fs={class:"text"},gs={key:1,class:"empty"},hs=["innerHTML"],ps=V({__name:"ViewContacts",setup(s){const t=Y(),{contacts:n}=N(t),o=b(),{currentAction:i}=N(o),c=C(),{settings:g}=N(c);return z(()=>{$("fetchContacts",{}).then(p=>{t.contacts=p.contacts})}),(p,a)=>(d(),v("div",cs,[r("div",us,[u(S,{icon:"mdi-close",onClick:a[0]||(a[0]=l=>e(g).useMouse?e(o).changeTab(""):null),class:M({hover:e(i)==0&&!e(g).useMouse})},null,8,["class"]),r("h1",null,f(e(o).getTranslation(["messages","header"])),1)]),e(n).length>=1?(d(),v("div",ds,[(d(!0),v(j,null,X(e(n),(l,_)=>F((d(),v("div",{class:M(["item",{hover:e(i)==_+1&&!e(g).useMouse}]),key:_,onClick:h=>e(t).clickContact(l)},[u(S,{icon:l.isOnline?"mdi-check-circle":"mdi-close-circle",class:M(["circle",{isOnline:l.isOnline}])},null,8,["icon","class"]),r("div",fs,[r("h1",null,f(l.name),1),r("p",null,f(l.latestMessage),1)]),u(oe,{density:"compact"},{default:T(()=>[u(S,{icon:e(g).useMouse?"mdi-dots-vertical":"mdi-delete",class:M({hover:e(i)==(_+1)*-1-4&&!e(g).useMouse})},null,8,["icon","class"]),u(be,{activator:"parent"},{default:T(()=>[u(ye,null,{default:T(()=>[u(we,{onClick:h=>e(t).removeContact(l)},{default:T(()=>[u(ke,null,{default:T(()=>[H(f(e(o).getTranslation(["messages","removeContact"])),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)],10,ms)),[[B]])),128))])):(d(),v("div",gs,[u(S,{icon:"mdi-emoticon-sad-outline"}),r("h1",{innerHTML:e(o).getTranslation(["messages","empty"])},null,8,hs)]))]))}}),vs=I(ps,[["__scopeId","data-v-39413078"]]),_s={class:"main"},bs={class:"top"},ys={key:0},ws={class:"list"},ks={key:0},Ss={class:"input"},Ms=["placeholder"],Ts=V({__name:"ViewMessages",setup(s){const t=Te(),n=Y(),{message:o,currentMessages:i}=N(n),c=b(),{currentAction:g,identifier:p}=N(c),a=C(),{settings:l}=N(a),_=new Date,h=O(null);function m(R){let y="";const w=new Date(R*1e3),A=w.getMonth(),G=w.getDate(),ee=w.getHours(),ie=w.getMinutes();return G!==_.getDate()&&(y=`${G} ${c.getTranslation(["months",A])} `),y+=`${ee<10?"0"+ee:ee}:${ie<10?"0"+ie:ie}`,y}function k(R){switch(R.data.action){case"addMessage":(c.identifier==R.data.data.receiver||c.identifier==R.data.data.sender)&&n.currentMessages.unshift(R.data.data);break;case"toggledNuiFocus":h.value!==null&&h.value.focus();break}}function x(R){a.settings.useMouse==!1&&c.currentAction==1&&R.target&&R.target.focus()}return z(()=>{const R=t.params;let y;for(let w=0;w<n.contacts.length;w++)n.contacts[w].contact==R.id&&(y=n.contacts[w]);if(y)$("getMessages",{data:y}).then(w=>{n.currentContact=y,n.currentMessages=w});else{L.push("/messages");return}window.addEventListener("message",k)}),U(()=>{window.removeEventListener("message",k)}),(R,y)=>(d(),v("div",_s,[r("div",bs,[u(S,{icon:"mdi-close",onClick:y[0]||(y[0]=w=>e(l).useMouse?e(c).changeTab(""):null),class:M({hover:e(g)==0&&!e(l).useMouse})},null,8,["class"]),e(n).currentContact?(d(),v("h1",ys,f(e(n).currentContact.name),1)):q("",!0)]),r("div",ws,[(d(!0),v(j,null,X(e(i),(w,A)=>(d(),v("div",{class:M(["item",{isAuthor:w.sender==e(p)}]),key:A},[r("p",null,f(m(w.timestamp)),1),r("h1",null,f(w.content),1),w.sender==e(p)?(d(),v("p",ks,f(e(c).getTranslation(["messages","sent"])),1)):q("",!0)],2))),128))]),r("div",Ss,[F(r("input",{placeholder:e(c).getTranslation(["messages","input"]),"onUpdate:modelValue":y[1]||(y[1]=w=>Se(o)?o.value=w:null),onKeydown:y[2]||(y[2]=Me((...w)=>e(n).sendMessage&&e(n).sendMessage(...w),["enter"])),class:M({hover3:e(g)==1&&!e(l).useMouse}),onBlur:x,ref_key:"inputRef",ref:h},null,42,Ms),[[de,e(o)]]),F((d(),v("button",{onClick:y[3]||(y[3]=(...w)=>e(n).sendMessage&&e(n).sendMessage(...w)),class:M({hover:e(g)==2&&!e(l).useMouse})},[u(S,{icon:"mdi-send"})],2)),[[B]])])]))}}),$s=I(Ts,[["__scopeId","data-v-60720038"]]),Cs={class:"main-cont"},xs=V({__name:"MainScanner",setup(s){const t=pe(),n=b(),o=O(!1);function i(g){switch(g.data.action){case"fetchNearbyChannels":t.channels=g.data.data.sort(),o.value=!1,L.push("/scanner/list");break}}function c(){o.value==!1&&(o.value=!0,$("fetchNearbyChannels",{}))}return z(()=>{window.addEventListener("message",i)}),U(()=>{window.removeEventListener("message",i)}),(g,p)=>(d(),v("div",Cs,[o.value?(d(),D(fe,{key:0,indeterminate:"",color:"green",size:54,width:5})):q("",!0),u(oe,{onClick:c,disabled:o.value},{default:T(()=>[H(f(e(n).getTranslation(["scanner","scan"])),1)]),_:1},8,["disabled"])]))}}),Ls=I(xs,[["__scopeId","data-v-b9f2597e"]]),Rs={class:"main-cont"},As={key:0,class:"list"},Ns={key:1,class:"notFound"},qs=V({__name:"ScannerList",setup(s){const t=b(),n=pe(),{channels:o}=N(n);return(i,c)=>(d(),v("div",Rs,[e(o).length>0?(d(),v("div",As,[(d(!0),v(j,null,X(e(o),(g,p)=>(d(),v("div",{class:"item",key:p},f(e(K)(e(t).getTranslation(["scanner","channel"]),[g.freq,g.distance])),1))),128))])):(d(),v("div",Ns,f(e(t).getTranslation(["scanner","nothingFound"])),1)),u(oe,{onClick:c[0]||(c[0]=g=>e(L).push("/scanner"))},{default:T(()=>[H(f(e(t).getTranslation(["general","goback"])),1)]),_:1})]))}}),Vs=I(qs,[["__scopeId","data-v-895e68ad"]]),L=$e({history:Ce(),routes:[{path:"/",component:ut,meta:{layout:"main",rootRoute:!0}},{path:"/:pathMatch(.*)*",component:ft,meta:{layout:"main"}},{path:"/joinRadio",component:St,meta:{layout:"main"}},{path:"/channels",component:ls,meta:{layout:"main"}},{path:"/radioMembers",component:Rt,meta:{layout:"main"}},{path:"/settings",component:Zt,meta:{layout:"main"}},{path:"/messages",component:vs,meta:{layout:"main"}},{path:"/messages/:id",component:$s,meta:{layout:"main"}},{path:"/scanner",component:Ls,meta:{layout:"scanner",rootRoute:!0}},{path:"/scanner/list",component:Vs,meta:{layout:"scanner"}}]}),Fs={key:0,class:"top-container"},Is={class:"top-time unselectable"},Es={class:"top-volume unselectable"},Hs=V({__name:"Top",setup(s){const t=b(),n=C();return(o,i)=>e(t).poweredOn?(d(),v("div",Fs,[r("div",null,[u(S,{class:"unselectable top-battery",icon:"mdi-battery"}),r("h1",Is,f(e(t).currentTime()),1)]),r("div",null,[u(S,{class:"unselectable top-volume-icon",icon:"mdi-volume-high"}),r("h1",Es,f(e(n).settings.volume)+"% ",1)])])):q("",!0)}}),Ds=I(Hs,[["__scopeId","data-v-75a6e9a1"]]),Bs=V({__name:"ExtraButtons",setup(s){const t=b(),n=C();return(o,i)=>(d(),v(j,null,[e(t).enablePanicButton?(d(),D(E,{key:0,text:e(t).getTranslation(["general","panicButton"]),location:"start"},{activator:T(({props:c})=>[F(r("a",Z({class:"radio-panic-button",onClick:i[0]||(i[0]=(...g)=>e(t).panicButton&&e(t).panicButton(...g))},c,{class:{hovering:e(t).currentAction==-4&&!e(n).settings.useMouse}}),null,16),[[B,{class:"white--text"}]])]),_:1},8,["text"])):q("",!0),u(E,{text:e(t).getTranslation(["general","goback"]),location:"bottom"},{activator:T(({props:c})=>[F(r("a",Z({class:"radio-home-button",onClick:i[1]||(i[1]=()=>{e(t).playSound("click"),e(L).currentRoute.value.path!=="/"?e(t).changeTab(""):e(t).close()})},c),null,16),[[B,{class:"white--text"}]])]),_:1},8,["text"]),u(E,{text:e(t).getTranslation(["general","volumeDown"]),location:"start"},{activator:T(({props:c})=>[F(r("a",Z({onClick:i[2]||(i[2]=()=>{e(n).settings.volume!==0&&(e(t).playSound("click"),typeof e(n).settings.volume=="number"&&(e(n).settings.volume-=5),e(n).saveSettings("volume",e(n).settings.volume))}),class:["radio-volume-up-button",{hovering:e(t).currentAction==-1&&!e(n).settings.useMouse}]},c),null,16),[[B,{class:"white--text"}]])]),_:1},8,["text"]),u(E,{text:e(t).getTranslation(["general","volumeUp"]),location:"end"},{activator:T(({props:c})=>[F(r("a",Z({onClick:i[3]||(i[3]=()=>{e(n).settings.volume!==100&&(e(t).playSound("click"),typeof e(n).settings.volume=="number"&&(e(n).settings.volume+=5),e(n).saveSettings("volume",e(n).settings.volume))}),class:[{hovering:e(t).currentAction==-2&&!e(n).settings.useMouse},"radio-volume-down-button"]},c),null,16),[[B,{class:"white--text"}]])]),_:1},8,["text"]),u(E,{text:e(t).poweredOn?e(t).getTranslation(["general","turnOff"]):e(t).getTranslation(["general","turnOn"]),location:"start"},{activator:T(({props:c})=>[F(r("a",Z({class:["radio-power-button",{hovering:e(t).currentAction==-3&&!e(n).settings.useMouse}],onClick:i[4]||(i[4]=()=>{e(t).playSound("audio_off"),e(t).togglePoweredOn()})},c),null,16),[[B,{class:"white--text"}]])]),_:1},8,["text"])],64))}}),Ps=I(Bs,[["__scopeId","data-v-f541fa25"]]),Os={key:0,class:"modal"},js={class:"top"},Ys={key:0},Ws={key:1,class:"inputs"},Xs={key:2,class:"buttons"},zs=V({__name:"Modal",setup(s){const t=P(),n=C(),o=le(()=>t.data),i=O({});function c(){t.data=void 0,i.value={},n.settings.useMouse==!1&&$("toggleNuiFocus",{new:!1})}function g(p){p.action&&(p.action=="close"||p.action(i.value),c())}return(p,a)=>(d(),D(ce,{name:"modalFade"},{default:T(()=>[o.value!==void 0?F((d(),v("div",Os,[r("div",js,[r("h1",null,f(o.value.header),1),u(S,{icon:"mdi-close",onClick:c})]),o.value.description!==void 0?(d(),v("p",Ys,f(o.value.description),1)):q("",!0),o.value.inputs!==void 0?(d(),v("div",Ws,[(d(!0),v(j,null,X(o.value.inputs,(l,_)=>(d(),D(me,{key:_,label:l.label,placeholder:l.placeholder,type:l.type,modelValue:i.value[l.name],"onUpdate:modelValue":h=>i.value[l.name]=h,variant:"solo","hide-details":""},null,8,["label","placeholder","type","modelValue","onUpdate:modelValue"]))),128))])):q("",!0),o.value.buttons!==void 0?(d(),v("div",Xs,[(d(!0),v(j,null,X(o.value.buttons,(l,_)=>(d(),D(oe,{class:"button",variant:"tonal",size:"small",key:_,onClick:h=>g(l)},{default:T(()=>[H(f(l.label),1)]),_:2},1032,["onClick"]))),128))])):q("",!0)])),[[xe,c]]):q("",!0)]),_:1}))}}),Us={class:"text"},Ks=V({__name:"Notification",props:{data:{},id:{}},setup(s){const t=s,n=O(void 0),o=O(0),i=P();return z(()=>{n.value=setInterval(()=>{const c=Date.now();o.value=(c-t.data.date)/(t.data.timer/100)},1)}),U(()=>{n.value!==void 0&&(clearTimeout(n.value),n.value=void 0)}),(c,g)=>(d(),v("div",{class:"notification",style:te({"z-index":1e3-c.id})},[r("div",Us,f(c.data.text),1),u(fe,{"model-value":o.value,size:28,width:2,onClick:g[0]||(g[0]=p=>e(i).removeNotification(c.data.uuid))},{default:T(()=>[u(S,{icon:"mdi-close"})]),_:1},8,["model-value"])],4))}}),Js=I(Ks,[["__scopeId","data-v-15ddc08f"]]),Gs=V({__name:"Notifications",setup(s){const t=P();return(n,o)=>(d(),D(Le,{name:"list",tag:"div",class:"notifications"},{default:T(()=>[(d(!0),v(j,null,X(e(t).notifications,(i,c)=>(d(),D(Js,{key:c,data:i,id:i.uuid},null,8,["data","id"]))),128))]),_:1}))}}),Qs=I(Gs,[["__scopeId","data-v-63fc928c"]]),Zs=["src"],en=["src"],tn=["src"],sn=V({__name:"MainLayout",setup(s){const t=b(),n=C(),o=O(null),i=O(!1);function c(){if(n.settings.allowDrag){let g=function(a){if(o.value!==null){let l=window.innerWidth-a.pageX-o.value.offsetWidth/2,_=window.innerHeight-a.pageY-o.value.offsetHeight/2;l<0&&(l=0),l>window.innerWidth-o.value.offsetWidth&&(l=window.innerWidth-o.value.offsetWidth),_<0&&(_=0),_>window.innerHeight-o.value.offsetHeight&&(_=window.innerHeight-o.value.offsetHeight),n.settings.positionX=`${l}px`,n.settings.positionY=`${_}px`}},p=function(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),o.value!==null&&(n.saveSettings("positionX",n.settings.positionX),n.saveSettings("positionY",n.settings.positionY))};document.addEventListener("mouseup",p),document.addEventListener("mousemove",g)}}return(g,p)=>{const a=ge("router-view");return d(),v(j,null,[r("div",{onMousedown:c,class:"main-container",ref_key:"mainCont",ref:o,style:te({transform:`scale(${Number(e(n).settings.scale)/20}) ${e(t).show?"":" translateY(100%)"}`,right:e(n).settings.positionX.toString(),bottom:e(n).settings.positionY.toString(),opacity:e(t).show?"1":"0",cursor:e(n).settings.allowDrag?"move":"default",background:e(t).poweredOn?"var(--background)":"#101121"})},[e(t).hideTop?q("",!0):(d(),D(Ds,{key:0})),u(zs),u(Qs),e(t).poweredOn?(d(),v("div",{key:1,class:M(["items-container",{topBar:!e(t).hideTop}])},[u(a,null,{default:T(({Component:l})=>[u(ce,{name:"fade"},{default:T(()=>[(d(),D(Re(l)))]),_:2},1024)]),_:1})],2)):q("",!0),u(Ps)],36),r("audio",{id:"audio_on",src:`${i.value?"":"/html"}/sounds/on.ogg`},null,8,Zs),r("audio",{id:"audio_off",src:`${i.value?"":"/html"}/sounds/off.ogg`},null,8,en),r("audio",{id:"click",src:`${i.value?"":"/html"}/sounds/click.ogg`},null,8,tn)],64)}}}),nn=I(sn,[["__scopeId","data-v-4d7c40f1"]]),on={class:"top"},an={class:"header"},rn=V({__name:"ScannerLayout",setup(s){const t=b();return(n,o)=>{const i=ge("router-view");return d(),v("div",{class:"main",style:te({opacity:e(t).show?"1":"0"})},[r("div",on,[r("div",an,f(e(t).getTranslation(["scanner","header"])),1)]),u(i)],4)}}}),ln=I(rn,[["__scopeId","data-v-945575e5"]]),cn={class:"header"},un={class:"radio-member-list"},dn=V({__name:"PlayerList",setup(s){const t=O(!0),n=O(null),o=O(null),i=C(),c=b(),{settings:g}=N(i),{radioMembers:p,showCallSigns:a,poweredOn:l}=N(c);function _(x){switch(x.data.action){case"open":t.value=x.data.data.ShowPlayerList;break;case"setShowPlayerList":t.value=x.data.ShowPlayerList;break}}const h=le(()=>t.value==!0&&g.value.memberList==!0&&p.value.length>0&&l.value==!0);z(()=>{window.addEventListener("message",_)}),U(()=>{window.removeEventListener("message",_)});function m(){try{if(n.value!==null){const x=parseInt(i.settings.position2X.toString().replace("px","")),R=parseInt(i.settings.position2Y.toString().replace("px",""));typeof x=="number"&&typeof R=="number"&&(x<0&&(i.settings.position2X="0px"),x>window.innerWidth-n.value.offsetWidth&&(i.settings.position2X=`${window.innerWidth-n.value.offsetWidth}px`),R<0&&(i.settings.position2Y="0px"),R>window.innerHeight-n.value.offsetHeight&&(i.settings.position2Y=`${window.innerHeight-n.value.offsetHeight}px`))}}catch{}}re([()=>g.value.position2X,()=>g.value.position2Y,n],()=>{m()},{immediate:!0}),re(n,x=>{x&&(o.value===null&&(o.value=new ResizeObserver(()=>{console.log("resized"),m()})),o.value.unobserve(x),o.value.observe(x))}),U(()=>{o.value!==null&&(o.value.disconnect(),o.value=null)});function k(){if(i.settings.allowDrag){let x=function(y){if(n.value!==null){let w=window.innerWidth-y.pageX-n.value.offsetWidth/2,A=y.pageY-n.value.offsetHeight/2;w<0&&(w=0),w>window.innerWidth-n.value.offsetWidth&&(w=window.innerWidth-n.value.offsetWidth),A<0&&(A=0),A>window.innerHeight-n.value.offsetHeight&&(A=window.innerHeight-n.value.offsetHeight),i.settings.position2X=`${w}px`,i.settings.position2Y=`${A}px`}},R=function(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",R),$("savesettings",{name:"position2X",value:i.settings.position2X}),$("savesettings",{name:"position2Y",value:i.settings.position2Y})};document.addEventListener("mouseup",R),document.addEventListener("mousemove",x)}}return(x,R)=>h.value?(d(),v("div",{key:0,class:"radio-members",style:te({cursor:e(g).allowDrag?"move":"default",transform:"scale("+Number(e(g).scale)/20+")",top:e(g).position2Y.toString(),right:e(g).position2X.toString()}),ref_key:"playerList",ref:n,onMousedown:k},[r("div",cn,f(e(c).getTranslation(["radioMembers","title"])),1),r("div",un,[(d(!0),v(j,null,X(e(p),y=>(d(),v("div",{class:M(["radio-member",{talking:y&&y.talking}]),key:y==null?void 0:y.source},[r("span",null,f(e(a)==!0&&typeof y.callsign=="string"&&y.callsign.trim().length>0?e(K)(e(c).getTranslation(["radioMembers","nameWithCallsign"]),[y.name,y.callsign]):e(K)(e(c).getTranslation(["radioMembers","nameWithoutCallsign"]),[y.name])),1)],2))),128))])],36)):q("",!0)}}),mn=I(dn,[["__scopeId","data-v-e05e3bff"]]),fn=V({__name:"Layout",setup(s){const t=b(),n=W(),o=Y(),i=P(),c=C();function g(a){switch(a.data.action){case"open":t.open(),t.disableAnonymous=a.data.data.DisableAnonymous,t.showCallSigns=a.data.data.AllowCallSigns,t.currentAction=0,t.enablePanicButton=a.data.data.EnablePanicButton,t.debug=a.data.data.Debug,t.version!==a.data.data.Version&&(console.warn("Mismatched version, seems like you have forgotten to update the ui/html files."),console.warn("These ui/html files are from version: "+t.version+". But your fxmanifest version is: "+a.data.data.Version));break;case"openScanner":t.open("scanner");break;case"close":L.currentRoute.value.path!=="/settings"&&(L.currentRoute.value.path!=="/"?t.changeTab(""):t.close());break;case"insertContact":o.contacts.push(a.data.data);break;case"setShowPlayerList":t.showCallSigns=a.data.AllowCallSigns;break;case"arrowDown":if(t.allowActionUpdate==!0&&t.poweredOn==!0){const l=he[L.currentRoute.value.matched[0].path];if(l){switch(a.data.arrow){case"down":t.currentAction<=(typeof l.max=="number"?l.max:l.max())?t.currentAction+=1:t.currentAction=typeof l.min=="number"?l.min:l.min();break;case"up":t.currentAction>=(typeof l.min=="number"?l.min:l.min())?t.currentAction-=1:t.currentAction=typeof l.max=="number"?l.max:l.max();break}if(l.scrollSelection&&l.getScroll){const _=document.querySelector(l.scrollSelection);_&&_.scrollTo(0,l.getScroll(t.currentAction))}}}break;case"clickedEnter":if(i.data!==void 0)i.data=void 0;else{const l=se[L.currentRoute.value.matched[0].path];l&&(l[t.currentAction]?l[t.currentAction]():l.invalid&&l.invalid())}break;case"pressLeft":(L.currentRoute.value.matched[0].path=="/messages"||L.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction<=-5?t.currentAction=t.currentAction*-1-4:L.currentRoute.value.matched[0].path=="/channels"&&t.currentAction<=-5?t.currentAction=t.currentAction*-1:L.currentRoute.value.matched[0].path!=="/settings"&&t.currentAction!==3&&(t.currentAction=-4);break;case"pressRight":(L.currentRoute.value.matched[0].path=="/messages"||L.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction>=1?t.currentAction=t.currentAction*-1-4:L.currentRoute.value.matched[0].path=="/channels"&&t.currentAction>4?t.currentAction=t.currentAction*-1:t.currentAction==-4&&(t.currentAction=0);break;case"updateChannelLabel":t.customRadioName=a.data.data;break;case"updateData":t.street=a.data.data.streetLabel,t.translations=a.data.data.translations,t.voiceScript=a.data.data.voiceScript,t.currentFrequency=a.data.data.radioFrequency,t.status=a.data.data.status;break;case"clearMemberList":t.radioMembers=[];break;case"updateMemberCallsign":{if(a.data.data&&typeof a.data.data.src=="number"){const l=t.radioMembers.findIndex(_=>_.source===a.data.data.src);l!==-1&&t.radioMembers[l]&&(t.radioMembers[l].callsign=a.data.data.callsign)}break}case"updateTalkingState":{if(a.data.data&&typeof a.data.data.src=="number"){const l=t.radioMembers.findIndex(_=>_.source===a.data.data.src);l!==-1&&t.radioMembers[l]&&(t.radioMembers[l].talking=a.data.data.state)}break}case"addInitialRadioMembers":if(typeof a.data.data=="string"){const l=a.data.data.split("|$|"),_=[];l.forEach(h=>{const m=h.split(",");if(m.length===4){const k=parseInt(m[0]);!isNaN(k)&&_.findIndex(x=>x.source===k)===-1&&_.push({source:k,name:m[1],talking:!1,callsign:m[2],identifier:m[3]})}}),t.radioMembers=_}break;case"addRadioMember":if(a.data.data&&typeof a.data.data.source=="number"){const l=t.radioMembers.findIndex(_=>_.source===a.data.data.source);l===-1?t.radioMembers.push(a.data.data):t.radioMembers[l]=a.data.data}break;case"removeRadioMember":typeof a.data.data=="number"&&(t.radioMembers=t.radioMembers.filter(l=>l.source!==a.data.data));break;case"setNewestReceivedMessage":t.latestMessage=a.data.data;break;case"updateSettings":{c.settings.scale=a.data.data.size,c.settings.callsign=a.data.data.callsign,t.identifier=a.data.data.identifier,t.disableAnonymous!==!0&&(c.settings.anonymous=a.data.data.anonymous),c.settings.streamerMode=a.data.data.streamerMode,c.settings.darkTheme=a.data.data.theme,c.settings.memberList=a.data.data.memberList,c.settings.useMouse=a.data.data.useMouse,document.body.classList.add(c.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(c.settings.darkTheme?"lightmode":"darkmode"),a.data.data.volume&&(c.settings.volume=a.data.data.volume);const l=document.querySelector(".main-container");l&&(a.data.data.positionX<0&&(a.data.data.positionX=0),a.data.data.positionX>window.innerWidth-l.offsetWidth&&(a.data.data.positionX=window.innerWidth-l.offsetWidth),a.data.data.positionY<0&&(a.data.data.positionY=0),a.data.data.positionY>window.innerHeight-l.offsetHeight&&(a.data.data.positionY=window.innerHeight-l.offsetHeight)),c.settings.positionX=a.data.data.positionX,c.settings.positionY=a.data.data.positionY,c.settings.position2X=a.data.data.position2X,c.settings.position2Y=a.data.data.position2Y;break}}}function p(a){switch(a.key.toLowerCase()){case"escape":if(c.settings.useMouse==!1){n.showSearch==!0&&(n.showSearch=!1),$("toggleNuiFocus",{new:!1});return}if(i.data){i.data=void 0,$("toggleNuiFocus",{new:!1});return}L.currentRoute.value.meta.rootRoute==!0?t.close():typeof L.currentRoute.value.meta.layout=="string"?t.changeTab(Pe[L.currentRoute.value.meta.layout]):t.changeTab("");break}}return z(()=>{document.body.classList.add(c.settings.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",p),window.addEventListener("message",g)}),U(()=>{window.removeEventListener("keydown",p),window.removeEventListener("message",g)}),(a,l)=>(d(),D(Ae,{class:M({open:e(t).show})},{default:T(()=>[e(L).currentRoute.value.meta.layout=="scanner"?(d(),D(ln,{key:0})):q("",!0),e(L).currentRoute.value.meta.layout=="main"?(d(),D(nn,{key:1})):q("",!0),u(mn)]),_:1},8,["class"]))}}),gn=Ne({components:qe,directives:Ve,theme:{defaultTheme:"dark"},icons:{defaultSet:"mdi",aliases:Fe,sets:{mdi:Ie}}}),hn=Ee();He.load({google:{families:["Source Sans Pro","Montserrat","Lato","Roboto"]}});const ae=De(fn);ae.use(gn);ae.use(L);ae.use(hn);ae.mount("#app");
